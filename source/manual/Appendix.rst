附录
=============
.. toctree:: 
    :maxdepth: 5

.. _error-codes:

附录A：接口返回值错误码对照表
----------------------------

下表列出了相机SDK接口返回的错误代码及其含义和处理建议。

.. list-table:: 错误码对照表
   :widths: 15 25 60
   :header-rows: 1
   
   * - 错误码
     - 描述
     - 处理方式
   * - ``-1``
     - 操作失败
     - 核对参数下发是否正确
   * - ``-2``
     - 内部错误
     - 相机内部逻辑错误，联系售后，查看日志
   * - ``-3``
     - 未知错误
     - 相机内部错误，联系售后，查看日志
   * - ``-4``
     - 不支持该功能
     - 不支持该功能，请核对参数下发是否正确
   * - ``-5``
     - 初始化未完成
     - 查看SDK是否初始化，相机是否初始化
   * - ``-6``
     - 未使能
     - 重新上电，查看电源灯是否常亮(绿色)
   * - ``-9``
     - 网络传输套件创建失败
     - 查看相机当前状态，供电/通讯是否正常
   * - ``-10``
     - 网络传输套件初始化失败
     - 查看相机当前状态，供电/通讯是否正常
   * - ``-13``
     - 未发现网络传输套件
     - 查看相机当前状态，供电/通讯是否正常
   * - ``-14``
     - 网络相机内核过滤驱动初始化失败
     - 查看相机当前状态，供电/通讯是否正常
   * - ``-18``
     - 接收到未知的网络图像类型
     - 查看设置获取图像类型是否在 ``dtu_type_t`` 中
   * - ``-19``
     - 接收到错误的网络图像类型
     - 查看设置获取图像类型是否在 ``dtu_type_t`` 中
   * - ``-20``
     - 接收到未知的网络数据类型
     - 查看设置获取数据类型是否在 ``cloudType`` 中
   * - ``-21``
     - 接收到错误的网络数据类型
     - 查看设置获取数据类型是否在 ``cloudType`` 中
   * - ``-22``
     - 与网络相机失去连接，心跳检测超时
     - 重启相机，联系售后查看日志
   * - ``-23``
     - 数据校验错误
     - (处理方式未提供)
   * - ``-24``
     - IP错误
     - 查看IP地址是否正确
   * - ``-25``
     - 指令发送异常
     - 查看相机版本，重启相机
   * - ``-26``
     - 获取图像buffer错误
     - 查看是否存在僵尸线程占用获取图像线程
   * - ``-27``
     - 相机触发采图异常
     - 查看是否存在僵尸线程占用获取图像线程
   * - ``-28``
     - 获取相机参数异常
     - 查看当前.h头文件是否匹配相机固件版本
   * - ``-31``
     - 枚举失败
     - 查看相机IP是否正确
   * - ``-32``
     - 相机断开连接
     - 查看电源是否正常连接，通信是否正常

分类说明
--------

网络相关错误 (``-9`` 到 ``-14``)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table:: 网络错误分类
   :widths: 20 40 40
   :header-rows: 1
   
   * - 错误码
     - 问题描述
     - 检查要点
   * - ``-9``, ``-10``
     - 网络传输套件创建/初始化失败
     - 1. 网络连接状态
         2. 防火墙设置
         3. 网络驱动
   * - ``-13``
     - 未发现网络传输套件
     - 1. 网线连接
         2. 网卡状态
         3. IP配置
   * - ``-14``
     - 内核过滤驱动初始化失败
     - 1. 系统权限
         2. 驱动安装
         3. 系统兼容性

数据类型错误 (``-18`` 到 ``-21``)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table:: 数据类型错误
   :widths: 20 40 40
   
   * - 错误码
     - 涉及的数据类型
     - 枚举类型参考
   * - ``-18``, ``-19``
     - 网络图像类型
     - :c:type:`dtu_type_t`
   * - ``-20``, ``-21``
     - 网络数据类型
     - :c:type:`cloudType`

连接状态错误 (``-22``, ``-32``)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table:: 连接错误
   :widths: 20 40 40
   
   * - 错误码
     - 问题表现
     - 解决方案
   * - ``-22``
     - 心跳检测超时
     - 1. 重启相机
         2. 检查网络稳定性
   * - ``-32``
     - 完全断开连接
     - 1. 检查电源
         2. 检查物理连接

参数配置错误 (``-1``, ``-4``, ``-28``)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table:: 参数错误
   :widths: 20 40 40
   
   * - 错误码
     - 可能原因
     - 检查方法
   * - ``-1``
     - 参数错误
     - 检查API调用参数
   * - ``-4``
     - 功能不支持
     - 确认相机型号支持的功能
   * - ``-28``
     - 参数获取异常
     - 检查SDK版本与固件匹配

成功代码
--------

除了上述错误码外，函数成功执行时返回：

.. list-table:: 成功代码
   :widths: 20 80
   
   * - 返回值
     - 说明
   * - ``0``
     - 操作成功，对应 ``CAMERA_STATUS_SUCCESS``